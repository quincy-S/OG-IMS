import{_ as y,a as E}from"./tslib.51bbf877.js";import{e as g}from"./echarts.1a56512e.js";import{j as f,r as v}from"./react.835c4918.js";import{c as _,b as C}from"./size-sensor.5528201f.js";import{f as h}from"./fast-deep-equal.aa2b1f7c.js";const L=f.exports.Fragment,w=f.exports.jsx,N=f.exports.jsxs;function d(i,e){var t={};return e.forEach(function(s){t[s]=i[s]}),t}function l(i){return typeof i=="function"}function x(i){return typeof i=="string"}var O=function(i){y(e,i);function e(t){var s=i.call(this,t)||this;return s.echarts=t.echarts,s.ele=null,s.isInitialResize=!0,s}return e.prototype.componentDidMount=function(){this.renderNewEcharts()},e.prototype.componentDidUpdate=function(t){var s=this.props.shouldSetOption;if(!(l(s)&&!s(t,this.props))){if(!h(t.theme,this.props.theme)||!h(t.opts,this.props.opts)||!h(t.onEvents,this.props.onEvents)){this.dispose(),this.renderNewEcharts();return}var n=["option","notMerge","lazyUpdate","showLoading","loadingOption"];h(d(this.props,n),d(t,n))||this.updateEChartsOption(),(!h(t.style,this.props.style)||!h(t.className,this.props.className))&&this.resize()}},e.prototype.componentWillUnmount=function(){this.dispose()},e.prototype.getEchartsInstance=function(){return this.echarts.getInstanceByDom(this.ele)||this.echarts.init(this.ele,this.props.theme,this.props.opts)},e.prototype.dispose=function(){if(this.ele){try{_(this.ele)}catch(t){console.warn(t)}this.echarts.dispose(this.ele)}},e.prototype.renderNewEcharts=function(){var t=this,s=this.props,n=s.onEvents,o=s.onChartReady,r=this.updateEChartsOption();this.bindEvents(r,n||{}),l(o)&&o(r),this.ele&&C(this.ele,function(){t.resize()})},e.prototype.bindEvents=function(t,s){function n(r,a){x(r)&&l(a)&&t.on(r,function(c){a(c,t)})}for(var o in s)Object.prototype.hasOwnProperty.call(s,o)&&n(o,s[o])},e.prototype.updateEChartsOption=function(){var t=this.props,s=t.option,n=t.notMerge,o=n===void 0?!1:n,r=t.lazyUpdate,a=r===void 0?!1:r,c=t.showLoading,u=t.loadingOption,m=u===void 0?null:u,p=this.getEchartsInstance();return p.setOption(s,o,a),c?p.showLoading(m):p.hideLoading(),p},e.prototype.resize=function(){var t=this.getEchartsInstance();if(!this.isInitialResize)try{t.resize()}catch(s){console.warn(s)}this.isInitialResize=!1},e.prototype.render=function(){var t=this,s=this.props,n=s.style,o=s.className,r=o===void 0?"":o,a=E({height:300},n);return w("div",{ref:function(c){t.ele=c},style:a,className:"echarts-for-react "+r})},e}(v.exports.PureComponent),U=function(i){y(e,i);function e(t){var s=i.call(this,t)||this;return s.echarts=g,s}return e}(O);export{U as E,L as F,w as a,N as j};
